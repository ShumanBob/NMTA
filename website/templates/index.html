<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Schedule Builder</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/front_page.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/front_page_chatbot.css') }}">
</head>

<body>
  <!--html for the to pthird of the page, only has the NMTA logo--> ->
  <section class="top-section">
    <div class="rotating-logo">
      <span class="rotating-letter">N</span>
      <span class="rotating-letter">M</span>
      <span class="rotating-letter">T</span>
      <span class="rotating-letter">A</span>
    </div>
  </section>

  <!-- html for the middle section of the homepage, contains the chatbot box and input functionality-->
  <section class="middle-section">
    <form method="POST" action="{{ url_for('schedule_builder') }}">
      <button type="submit" class="schedule-button">Go to Schedule Builder</button>
    </form>

    <div class="chat-bot-box">
      <div id="chatbot-container" class="chatbot-box">
        <div class="chat-header">
          <h3>What do you need help with?</h3>
        </div>
        <div id="chat-messages" class="chat-messages"></div>
        <div class="chat-input-container">
          <input type="text" id="chat-input" placeholder="Enter message..." />
          <button id="send-btn">Send</button>
        </div>
      </div>
    </div>
  </section>

  <!-- The lower section of the homepage, contains the major searchbar and the buttons leading you to major flowcharts -->
  <section class="bottom-section">
    <h2>Search For Your Degree Guide</h2>
    <input
      type="text"
      id="flowchart-search"
      placeholder="e.g., Computer Science"
      style="margin-bottom: 1em; padding: 0.5em; width: 100%; max-width: 300px;"
    />
    <!--Links to each html flowchart page, for majors that dont have a flowchart users are redirected to 'noflowchart' page-->
    <div class="flowchart-container">
      <a href="{{ url_for('computer_science') }}" class="flowchart-box">Computer Science</a>
      <a href="{{ url_for('mechanical_engineering') }}" class="flowchart-box">Mechanical Engineering</a>
      <a href="{{ url_for('civil_engineering') }}" class="flowchart-box">Civil Engineering</a>
      <a href="{{ url_for('electrical_engineering') }}" class="flowchart-box">Electrical Engineering</a>
      <a href="{{ url_for('biology') }}" class="flowchart-box">Biology</a>
      <a href="{{ url_for('acceleratedphysics') }}" class="flowchart-box">Accelerated MS Physics</a>
      <a href="{{ url_for('astrophysics') }}" class="flowchart-box">Astrophysics</a>
      <a href="{{ url_for('atmosphereicphysics') }}" class="flowchart-box">Atmospheric Physics</a>
      <a href="{{ url_for('chemEngineering') }}" class="flowchart-box">Chemical Engineering</a>
      <a href="{{ url_for('chemistry') }}" class="flowchart-box">Chemistry</a>
      <a href="{{ url_for('mathematics') }}" class="flowchart-box">Mathematics</a>
      <a href="{{ url_for('petroleum') }}" class="flowchart-box">Petroleum</a>
      <a href="{{ url_for('physics') }}" class="flowchart-box">Physics</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">Environmental Engineering</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">Materials & Metallurgical Engineering</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">Mineral Engineering</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">Earth Science</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">Environmental Science</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">Business Management</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">Management of Technology</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">Technical Communication</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">Psychology</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">General Studies</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">Music</a>
      <a href="{{ url_for('noflowchart') }}" class="flowchart-box">Biotechnology</a>
    </div>
    <footer>
      <p>&copy; 2025 NMTA | Chris, Jaxen, Tyler, Zixi</p>
    </footer>
  </section>

  <!-- Script for the Llama 2 chatbot functionality -->
  <script src="{{ url_for('static', filename='javascript/front_page_chatbot.js') }}"></script>

  <!-- script for the majors searchbar in the bottom section of the homepage -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const searchInput = document.getElementById("flowchart-search");
      const flowchartBoxes = document.querySelectorAll(".flowchart-box");

      searchInput.addEventListener("input", function () {
        const query = searchInput.value.toLowerCase();

        flowchartBoxes.forEach(box => {
          const text = box.textContent.toLowerCase();
          box.style.display = text.includes(query) ? "inline-block" : "none";
        });
      });
    });
  </script>
</body>
</html>
